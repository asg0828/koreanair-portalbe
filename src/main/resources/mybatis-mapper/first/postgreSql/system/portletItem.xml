<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bdp.ap.app.system.mapper.PortletItemMapper">
	<select id="selectPlNotice" resultType="portletItemModel">
		select
			'/board/notice/detail/'||a.notice_id as url,
			a.notice_id as id,
			a.sj as title,
			a.modi_dt,
			b.user_id,
			b.user_nm
		from t_bbs_notice a, t_user b
		where a.modi_id = b.user_id and a.use_yn = 'Y' and a.del_yn = 'N'
		order by a.modi_dt desc
		limit 5
	</select>
	<select id="selectPlFaq" resultType="portletItemModel">
		select
			'/board/faq?faqId='||a.faq_id as url,
			a.faq_id as id,
			a.qstn as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_bbs_faq a, t_user b
		where a.modi_id = b.user_id and a.use_yn = 'Y' and a.del_yn = 'N'
		order by a.modi_dt desc
		limit 5
	</select>
	<select id="selectPlHelp" resultType="portletItemModel">
		select
			'/board/help/detail/'||a.help_id as url,
			a.help_id as id,
			a.sj as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_bbs_help a, t_user b
		where a.modi_id = b.user_id and a.use_yn = 'Y' and a.del_yn = 'N'
		order by a.modi_dt desc
		limit 5
	</select>
	<select id="selectPlAnalSrcShare" resultType="portletItemModel">
		select
			'/board/anlzSource/detail/'||a.anlz_source_id as url,
			a.anlz_source_id as id,
			a.sj as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_anlz_source a, t_user b
		where a.modi_id = b.user_id and a.use_yn = 'Y' and a.del_yn = 'N'
		order by a.modi_dt desc
		limit 5
	</select>
	<select id="selectPlQna" resultType="portletItemModel">
		select
			'/board/qna/detail/'||a.qna_id as url,
			a.qna_id as id,
			a.sj as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_bbs_qna a, t_user b
		where a.modi_id = b.user_id and a.use_yn = 'Y' and a.del_yn = 'N' and a.open_yn = 'Y' and coalesce(bf_qna_id, '') = ''
		order by a.modi_dt desc
		limit 5
	</select>
	<select id="selectPlDataroom" resultType="portletItemModel">
		select
			'/board/dataRoom/detail/'||a.data_id as url,
			a.data_id as id,
			a.sj as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_bbs_data a, t_user b
		where a.modi_id = b.user_id and a.use_yn = 'Y' and a.del_yn = 'N'
		order by a.modi_dt desc
		limit 5
	</select>
	<select id="selectMpRecentList" resultType="portletItemModel">
		select
			'/project/project/detail/'||a.project_id as url,
			a.project_id as id,
			a.project_nm as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_project a, t_user b
		where a.modi_id = b.user_id and a.use_yn = 'Y'
		order by a.modi_dt desc
		limit 5
	</select>
	<select id="selectRlRecentList" resultType="portletItemModel">
		select
			'/report/report/detail/'||a.report_id as url,
			a.report_id as id,
			a.report_nm as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_report a, t_user b
		where a.modi_id = b.user_id and a.use_yn = 'Y'
		order by a.modi_dt desc
		limit 5
	</select>
	<select id="selectRlPopList" resultType="portletItemModel">
		select
			'/report/report/detail/'||a.report_id as url,
			a.report_id as id,
			a.report_nm as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_report a, t_user b
		where a.modi_id = b.user_id and a.use_yn = 'Y'
		order by a.view_cnt desc
		limit 5
	</select>
	<select id="selectMyReportRecent" parameterType="String" resultType="portletItemModel">
		select
			'/report/report/detail/'||a.report_id as url,
			a.report_id as id,
			a.report_nm as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_report a, t_user b
		where a.modi_id = b.user_id and a.use_yn = 'Y' and a.modi_id = #{authUserId}
		order by a.modi_dt desc
		limit 5
	</select>
	<select id="selectSelectedReport" resultType="portletItemModel">
	</select>
	<select id="selectAmRecentList" resultType="portletItemModel">
		select
			'/bizmeta/analysisMart/detail/'||a.anlz_mrt_id as url,
			a.anlz_mrt_id as id,
			a.mart_nm as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_anlz_mart a, t_user b
		where a.modi_id = b.user_id
		order by a.modi_dt desc
		limit 5
	</select>
	<select id="selectScRecentList" resultType="portletItemModel">
		select
			'/bizmeta/stdCoefft/detail/'||a.std_coefft_id||'/'||c.seq as url,
			a.std_coefft_id as id,
			a.std_coefft_nm as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_std_coefft a, t_user b, (select max(seq) as seq, std_coefft_id from t_std_coefft_hist group by std_coefft_id) c
		where a.modi_id = b.user_id and a.std_coefft_id = c.std_coefft_id
		order by a.modi_dt desc
		limit 5
	</select>
	<select id="selectRiRecentList" resultType="portletItemModel">
		select
			'/bizmeta/reportInfo/detail/'||a.rpt_inf_id as url,
			a.rpt_inf_id as id,
			a.rpt_nm as title,
			b.user_id,
			b.user_nm,
			a.modi_dt
		from t_rpt_inf a, t_user b
		where a.modi_id = b.user_id
		order by a.modi_dt desc
		limit 5
	</select>
</mapper>